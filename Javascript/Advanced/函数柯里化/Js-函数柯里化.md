---
# ä¸»é¢˜åˆ—è¡¨ï¼šjuejin, github, smartblue, cyanosis, channing-cyan, fancy, hydrogen, condensed-night-purple, greenwillow, v-green, vue-pro
# è´¡çŒ®ä¸»é¢˜ï¼šhttps://github.com/xitu/juejin-markdown-themes
theme: hydrogen
highlight:
---

**å‡½æ•°æŸ¯é‡ŒåŒ–** åœ¨é¢è¯•è¿‡ç¨‹ç»å¸¸è¢«é—®åˆ°ï¼Œä¹Ÿæ˜¯é¢è¯•å®˜æ¯”è¾ƒå–œæ¬¢é—®çš„ä¸€ä¸ªéš¾ç‚¹ï¼Œèƒ½å¦å‡†ç¡®åœ°è§£é‡Šå‡½æ•°æŸ¯é‡ŒåŒ–çš„äº§ç”ŸèƒŒæ™¯å’Œä½œç”¨ï¼Œä¹Ÿæ˜¯å¯¹é¢è¯•è€…çš„ js æ·±åº¦çš„ä¸€ä¸ªè¯„åˆ¤æ ‡å‡†ã€‚

> è™½è¯´æ˜¯å¿«é€Ÿç†è§£ï¼Œä½†è¿˜æ˜¯å¸Œæœ›ä½ èƒ½è€å¿ƒåœ°èŠ±è´¹ 10 åˆ†é’Ÿçš„æ—¶é—´ä»”ç»†é˜…è¯»ï¼Œç›¸ä¿¡ä¼šå¸®åŠ©ä½ åŠ æ·±å°è±¡ã€‚

# å‡½æ•°æŸ¯é‡ŒåŒ–çš„ä½œç”¨

ä¸ºäº†è®©å¤§å®¶å¿«é€Ÿåœ°äº†è§£å‡½æ•°æŸ¯é‡ŒåŒ–ï¼Œå…ˆç®€å•è¯´æ˜ä¸€ä¸‹å‡½æ•°æŸ¯é‡ŒåŒ–çš„ä½œç”¨ï¼š

1. ç¼–å†™å°æ¨¡å—çš„ä»£ç ï¼Œå¯ä»¥æ›´è½»æ¾çš„é‡ç”¨å’Œé…ç½®
2. é¿å…é¢‘ç¹è°ƒç”¨å…·æœ‰ç›¸åŒå‚æ•°çš„å‡½æ•°

## ä¸€ä¸ªçœŸå®åœºæ™¯çš„æ —å­ ğŸŒ°

> è¿™é‡Œç›´æ¥æ´å¼•äº†é˜¿é‡Œäº‘è¯‘æ–‡é‡Œçš„ç»å…¸ä¾‹å­ï¼Œä¿è¯ä½ çœ‹ä¸€éå°±æ‡‚äº†

ä¸¾ä¸ªä¾‹å­ ğŸŒ°ï¼Œä½ æœ‰ä¸€ä¸ªå•†åº— ï¼Œä½ æƒ³ç»™ä½ çš„é¡¾å®¢ 10% çš„æŠ˜æ‰£ï¼š

```js
function discount(price, discount) {
  return price * discount;
}
```

å½“ä¸€ä¸ªæœ‰ä»·å€¼çš„å®¢æˆ·ä¹°äº†ä¸€ä»¶ **$500** çš„å•†å“ï¼Œä½ ä¼šç»™ä»–è®¡ç®—ä¸€ä¸‹ï¼š

```js
const price = discount(500, 0.1); // $50    // $500â€Š - $50 = $450
```

é‚£å…¶ä»–ä¸åŒä»·æ ¼çš„å•†å“å‘¢ï¼ŒæŒ‰ç…§æ­£å¸¸çš„é€»è¾‘ï¼Œæ¯å¤©éƒ½éœ€è¦è€ƒè™‘**10%**çš„æŠ˜æ‰£è¾“å…¥ ğŸ’¸ï¼Œå¦‚ä¸‹

```js
const price = discount(1500, 0.1); // $150
// $1,500 - $150 = $1,350
const price = discount(2000, 0.1); // $200
// $2,000 - $200 = $1,800
const price = discount(50, 0.1); // $5
// $50 - $5 = $45
```

å¤ªéº»çƒ¦äº†ï¼æˆ‘ä»¬æœ‰å‡½æ•°æŸ¯é‡ŒåŒ–ï¼

```js
function discount(discount) {
  return (price) => {
    return price * discount;
  };
}
const tenPercentDiscount = discount(0.1);
```

ç°åœ¨æˆ‘ä»¬åªéœ€è¦è¾“å…¥ä»·æ ¼ï¼Œä¸ç”¨è„‘å­é‡Œå†æƒ³ä¸€éæŠ˜æ‰£æ˜¯å¤šå°‘ï¼ŒCoolğŸ˜ï¼

```js
tenPercentDiscount(500); // $50
tenPercentDiscount(1500); // $150
tenPercentDiscount(2000); // $200
```

ç°åœ¨æœ‰æ–°çš„æ´»åŠ¨äº†ï¼Œé’ˆå¯¹æ–°å“çš„**20%**æŠ˜æ‰£ï¼Œæˆ‘ä»¬ç»§ç»­ç”Ÿæˆä¸€ä¸ªæ–°çš„æŠ˜æ‰£è®¡ç®—å™¨ï¼ŒNiceğŸ˜ï¼

```js
const twentyPercentDiscount = discount(0.2);
```

# å‡½æ•°å¼ç¼–ç¨‹

è¯´åˆ°å‡½æ•°çš„æŸ¯é‡ŒåŒ–ï¼Œä¸å¾—ä¸æä¸€ä¸‹å‡½æ•°å¼ç¼–ç¨‹ï¼ˆFunctional programmingï¼‰ã€‚

å‡½æ•°å¼ç¼–ç¨‹ä½œä¸ºä¸€ç§ç¼–ç¨‹é£æ ¼ï¼Œå¸¦æ¥äº†è®¸å¤šç›®å‰å‰ç«¯é¢†åŸŸçš„é‡è¦æ¦‚å¿µï¼š

1. çº¯å‡½æ•°
2. æŸ¯é‡ŒåŒ–
3. é«˜é˜¶å‡½æ•°

æœ¬æ–‡ä¸»è¦è®¨è®º **å‡½æ•°çš„æŸ¯é‡ŒåŒ–**ã€‚

# å‡½æ•°æŸ¯é‡ŒåŒ–çš„è¯ç”Ÿ

åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œå‡½æ•°æ˜¯ç¬¬ä¸€ç­‰å…¬æ°‘ï¼Œä¸ºäº†ä¿è¯å‡½æ•°çš„åˆæˆï¼ˆå¦‚`f(g(n))`ï¼‰èƒ½é¡ºåˆ©å®Œæˆï¼Œé€šå¸¸è¦æ±‚`f`å’Œ`g`éƒ½æ˜¯çº¯å‡½æ•°ï¼Œä¸”å…¶ä¼ å‚åªèƒ½æœ‰ä¸€ä¸ªï¼Œé‚£å¯¹äºéœ€è¦å¤šä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå¦‚ä½•èƒ½è½¬æˆåˆæˆæ‰€éœ€è¦çš„å•å‚æ•°å‡½æ•°å‘¢ï¼Ÿè¿›é˜¶ä¸€ç‚¹ï¼š`f(g(n, y), x)`è¿™ç§å«æœ‰å¤šä¸ªå‚æ•°çš„å‡½æ•°åˆæˆï¼Œè¯¥æ€ä¹ˆå®ç°ï¼Ÿ

![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/75834dbf684e47388d0f8f6f1e415a7f~tplv-k3u1fbpfcp-watermark.image)

## å…ˆä¸¾ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­

è¿™ä¸ªæ—¶å€™ï¼Œå‡½æ•°æŸ¯é‡ŒåŒ–å°±æ´¾ä¸Šç”¨åœºäº†ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªä¾‹å­ ğŸŒ°

```js
// æŸ¯é‡ŒåŒ–ä¹‹å‰
function add(x, y) {
  return x + y;
}

add(1, 2); // 3

// æŸ¯é‡ŒåŒ–ä¹‹å
function addX(y) {
  return function (x) {
    return x + y;
  };
}

addX(2)(1); // 3
```

æœ‰äº†æŸ¯é‡ŒåŒ–ä»¥åï¼Œæˆ‘ä»¬å°±èƒ½åšåˆ°ï¼Œæ‰€æœ‰å‡½æ•°åªæ¥å—ä¸€ä¸ªå‚æ•°ã€‚

é‚£ä¹ˆç°åœ¨æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹å…³äº**æŸ¯é‡ŒåŒ–**çš„å®šä¹‰ï¼š

> é˜®ä¸€å³°ï¼šæ‰€è°“**"æŸ¯é‡ŒåŒ–"**ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªå¤šå‚æ•°çš„å‡½æ•°ï¼Œè½¬åŒ–ä¸ºå•å‚æ•°å‡½æ•°ã€‚

> é˜¿é‡Œäº‘è¯‘æ–‡: æŸ¯é‡ŒåŒ–å…¶å®æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘ä»¬èƒ½æŠŠä¸€ä¸ªå¸¦æœ‰å¤šä¸ªå‚æ•°çš„å‡½æ•°è½¬æ¢æˆä¸€ç³»åˆ—çš„åµŒå¥—å‡½æ•°ã€‚å®ƒè¿”å›ä¸€ä¸ªæ–°å‡½æ•°ï¼Œè¿™ä¸ªæ–°å‡½æ•°æœŸæœ›ä¼ å…¥ä¸‹ä¸€ä¸ªå‚æ•°ã€‚

## å†ä¸¾ä¸€ä¸ªä¾‹å­

æŸ¯é‡ŒåŒ–ä¹‹å‰ï¼š

```js
function multiply(a, b, c) {
  return a + b + c;
}
multiply(1, 2, 3);
```

æŸ¯é‡ŒåŒ–ä¹‹å

```js
function multiply(a) {
  return function (b) {
    return function (c) {
      return a + b + c;
    };
  };
}
multiply(1)(2)(3);
```

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8b342ba23f1d45c2a9267af888776c46~tplv-k3u1fbpfcp-watermark.image)

# å‡½æ•°æŸ¯é‡ŒåŒ–å’Œé—­åŒ…çš„å…³ç³»

å‡½æ•°çš„æŸ¯é‡ŒåŒ–çœ‹ä¸Šå»æ˜¯å‡½æ•°çš„åµŒå¥—ï¼Œå®è´¨æ˜¯é—­åŒ…çš„å…¸å‹åº”ç”¨ã€‚

é—­åŒ…çš„å­˜åœ¨ä¿è¯äº†å‡½æ•°ä¼ å…¥çš„å€¼ä¸€ç›´ä¿æŒ **alive** çš„çŠ¶æ€ï¼Œè¿™æ ·æŸ¯é‡ŒåŒ–å‡½æ•°ä¹‹åï¼Œä¸ç”¨å°†æ‰€æœ‰çš„å‚æ•°ä¸€æ¬¡æ€§ä¼ å…¥ï¼Œæ¯ä¸€ä¸ªé˜¶æ®µçš„ç»“æœéƒ½ä¸ä¼šæ¶ˆå¤±ã€‚

# é€šç”¨çš„æŸ¯é‡ŒåŒ–å‡½æ•°ã€é‡ç‚¹ã€‘

è¿™æ˜¯çœŸæ­£çš„é¢è¯•è€ƒç‚¹ï¼Œè®©ä½ å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œèƒ½å¤ŸæŸ¯é‡ŒåŒ–ä¼ å…¥çš„å‡½æ•°ã€‚

## ES6 æ‰©å±•ç¬¦å®ç°

```js
function myCurry(fn, ...args) {
  return function (...argsMore) {
    return fn(...args, ...argsMore);
  };
}
```

## ES5 å®ç°

```js
function curry(fn) {
  var args = Array.prototype.slice.call(arguments, 1);
  return function () {
    var newArgs = args.concat(Array.prototype.slice.call(arguments));
    return fn.apply(this, newArgs);
  };
}
```

## åº”ç”¨çš„ä¾‹å­

```js
function volume(l, h, w) {
  return l * h * w;
}
const hCy = curry(volume, 100);
hCy(200, 900); // 18000000
hCy(70, 60); // 420000
```

# å‚è€ƒæ–‡æ¡£

[é˜®ä¸€å³° - å‡½æ•°å¼ç¼–ç¨‹å…¥é—¨æ•™ç¨‹][1]

[é˜¿é‡Œäº‘ç¿»è¯‘å°ç»„ - ã€Œè¯‘ã€ç†è§£ JavaScript çš„æŸ¯é‡ŒåŒ–][2]

[Medium - From Closures to Curry and Compose][3]

> æœ¬æ–‡ä½¿ç”¨äº†**hydrogen**æ˜é‡‘ä¸»é¢˜ï¼Œæ¬¢è¿å¤§å®¶ä½¿ç”¨å¹¶æå‡ºå»ºè®®

[1]: http://www.ruanyifeng.com/blog/2017/02/fp-tutorial.html
[2]: https://zhuanlan.zhihu.com/p/50247174
[3]: https://medium.com/sngular-devs/from-closures-to-curry-and-compose-197d2abcadd8
